(this["webpackJsonppasporumkm-frontend"]=this["webpackJsonppasporumkm-frontend"]||[]).push([[20],{1020:function(e,t,r){"use strict";r.r(t);var n=r(13),a=r(82),s=r(12),c=r(45),i=r.n(c),o=r(81),l=(r(452),r(1)),u=r.n(l),p=r(451),j=r(450),m=r(478),d=Object(p.a)((function e(){Object(j.a)(this,e),this.getAllByUserID=function(){var e=Object(a.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.set("/sjph/user/".concat(sessionStorage.user_id),"GET");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getNamaPerusahaan=function(){var e=Object(a.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.set("/sjph/nama_perusahaan/".concat(t),"GET");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.createSJPH=function(){var e=Object(a.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.set("/sjph","POST",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.deleteSJPH=function(){var e=Object(a.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.set("/sjph/".concat(t),"DELETE");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),h=r(447),b=r.n(h),f=r(5),O=r(1003),x=r(1006),g=r(1005),v=r(1004),y=r(443),w=r.n(y);function k(){return k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},k.apply(this,arguments)}function N(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var C=Object(l.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,s=void 0===a?24:a,c=N(e,["color","size"]);return u.a.createElement("svg",k({ref:t,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},c),u.a.createElement("path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"}),u.a.createElement("polyline",{points:"16 6 12 2 8 6"}),u.a.createElement("line",{x1:"12",y1:"2",x2:"12",y2:"15"}))}));C.propTypes={color:w.a.string,size:w.a.oneOfType([w.a.string,w.a.number])},C.displayName="Share";var S=C;function P(){return P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},P.apply(this,arguments)}function E(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var L=Object(l.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,s=void 0===a?24:a,c=E(e,["color","size"]);return u.a.createElement("svg",P({ref:t,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},c),u.a.createElement("polyline",{points:"6 9 6 2 18 2 18 9"}),u.a.createElement("path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}),u.a.createElement("rect",{x:"6",y:"14",width:"12",height:"8"}))}));L.propTypes={color:w.a.string,size:w.a.oneOfType([w.a.string,w.a.number])},L.displayName="Printer";var _=L;function z(){return z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},z.apply(this,arguments)}function T(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var D=Object(l.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,s=void 0===a?24:a,c=T(e,["color","size"]);return u.a.createElement("svg",z({ref:t,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},c),u.a.createElement("path",{d:"M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"}),u.a.createElement("polyline",{points:"13 2 13 9 20 9"}))}));D.propTypes={color:w.a.string,size:w.a.oneOfType([w.a.string,w.a.number])},D.displayName="File";var B=D;function H(){return H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},H.apply(this,arguments)}function J(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var W=Object(l.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,s=void 0===a?24:a,c=J(e,["color","size"]);return u.a.createElement("svg",H({ref:t,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},c),u.a.createElement("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),u.a.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"}))}));W.propTypes={color:w.a.string,size:w.a.oneOfType([w.a.string,w.a.number])},W.displayName="Plus";var I=W,R=r(1012),A=r(454),M=r(526),F=r.n(M),G=r(527),U=r.n(G),K=(r(448),r(456),r(485),r(125)),V=r(6),q=function(){var e=Object(l.useState)(""),t=Object(s.a)(e,2),r=t[0],c=t[1],u=Object(l.useState)(0),p=Object(s.a)(u,2),j=p[0],m=p[1],h=Object(l.useState)(""),y=Object(s.a)(h,2),w=y[0],k=y[1],N=Object(l.useState)([]),C=Object(s.a)(N,2),P=C[0],E=C[1],L=Object(l.useState)([]),z=Object(s.a)(L,2),T=(z[0],z[1],Object(l.useState)([])),D=Object(s.a)(T,2),H=D[0],J=D[1],W=new d,M=(Object(f.f)(),Object(l.useState)(!1)),G=Object(s.a)(M,2),q=G[0],Q=G[1],X=Object(A.e)(),Y=(X.control,X.setError,X.handleSubmit,X.formState.errors),Z=function(){var e=Object(a.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W.getAllByUserID();case 3:t=e.sent,J(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();Object(l.useEffect)((function(){Z()}),[]);var $=function(){var e=Object(a.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={nama_sjph:r,user_id:sessionStorage.user_id},e.prev=1,e.next=4,W.createSJPH(t);case 4:if(!(n=e.sent).id&&!n.success){e.next=10;break}return e.next=8,b.a.fire("","Data berhasil di simpan","success").then((function(){Z(),Q(!1)}));case 8:e.next=12;break;case 10:return e.next=12,b.a.fire("","Data gagal disimpan","error");case 12:e.next=19;break;case 14:return e.prev=14,e.t0=e.catch(1),console.error(e.t0),e.next=19,b.a.fire("Error",e.t0.error_message?e.t0.error_message:"Terjadi Error! Mohon kontak admin.");case 19:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(){return e.apply(this,arguments)}}(),ee=function(){var e=Object(a.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b.a.fire({title:"Peringatan!",text:"Apakah kamu yakin ingin menghapus data ini?",icon:"warning",showCancelButton:!0,confirmButton:"Iya, tentu saja",cancelButton:"Tidak",customClass:{confirmButton:"btn btn-primary",cancelButton:"btn btn-danger ms-1"},buttonsStyling:!1}).then(function(){var e=Object(a.a)(i.a.mark((function e(r){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.isConfirmed){e.next=19;break}return e.prev=1,e.next=4,W.deleteSJPH(t);case 4:if(!(n=e.sent).id&&!n.success){e.next=10;break}return e.next=8,b.a.fire({icon:"success",title:"Sukses menghapus!",text:"Data kamu telah dihapus.",customClass:{confirmButton:"btn btn-success"}}).then((function(){Z()}));case 8:e.next=12;break;case 10:return e.next=12,b.a.fire({title:"Failed",text:"Failed to delete",icon:"error",customClass:{confirmButton:"btn btn-success"}});case 12:e.next=19;break;case 14:return e.prev=14,e.t0=e.catch(1),console.error(e.t0),e.next=19,b.a.fire("",e.t0.error_message?e.t0.error_message:"Something Wrong","error");case 19:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),te=function(){var e=Object(a.a)(i.a.mark((function e(t,r,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{sessionStorage.sjph_id=t,sessionStorage.nama_sjph=n,sessionStorage.perusahaan_id=r,window.location.reload(),K.b.success("Anda telah memilih SJPH ".concat(n))}catch(a){console.error(a)}case 1:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),re=Object(l.forwardRef)((function(e,t){return Object(V.jsx)("div",{className:"form-check",children:Object(V.jsx)(o.o,Object(n.a)({type:"checkbox",ref:t},e))})})),ne=[{name:"ID",selector:function(e){return e.sjph_id},sortable:function(e){return e.sjph_id}},{name:"Nama SJPH",sortable:!0,selector:function(e){return e.nama_sjph}},{name:"Dibuat pada",sortable:!0,selector:function(e){return e.created_at}},{name:"Diubah pada",sortable:!0,selector:function(e){return e.modified_at}},{name:"Pilihan",cell:function(e){return Object(V.jsx)(o.b,{className:"me-1",color:"primary",onClick:function(){te(e.sjph_id,e.perusahaan_id,e.nama_sjph)},children:"Pilih"})}},{name:"Tindakan",allowOverflow:!1,cell:function(e){return Object(V.jsxs)("div",{className:"d-flex",children:[Object(V.jsxs)(o.D,{children:[Object(V.jsx)(o.l,{className:"pe-1",tag:"span",children:Object(V.jsx)(O.a,{size:15})}),Object(V.jsxs)(o.k,{end:!0,children:[Object(V.jsxs)(o.j,{tag:"a",href:"/",className:"w-100",onClick:function(e){return e.preventDefault()},children:[Object(V.jsx)(x.a,{size:15}),Object(V.jsx)("span",{className:"align-middle ms-50",children:"Details"})]}),Object(V.jsxs)(o.j,{className:"w-100",onClick:function(){ee(e.sjph_id)},children:[Object(V.jsx)(g.a,{size:15}),Object(V.jsx)("span",{className:"align-middle ms-50",children:"Delete"})]})]})]}),Object(V.jsx)(v.a,{size:15})]})}}];return Object(V.jsxs)(l.Fragment,{children:[Object(V.jsxs)(o.u,{isOpen:q,toggle:function(){return Q(!q)},className:"modal-dialog-centered modal-lg",children:[Object(V.jsx)(o.w,{className:"bg-transparent",toggle:function(){return Q(!q)}}),Object(V.jsxs)(o.v,{className:"px-sm-5 mx-50 pb-5",children:[Object(V.jsxs)("div",{className:"text-center mb-2",children:[Object(V.jsx)("h1",{className:"mb-1",children:"Tambah Data Tabel"}),Object(V.jsx)("p",{children:"Tambah data tabelmu sekarang"})]}),Object(V.jsxs)(o.A,{tag:"form",className:"gy-1 pt-75",children:[Object(V.jsxs)(o.h,{xs:12,children:[Object(V.jsx)(o.r,{className:"form-label",for:"sjphName",children:"SJPH Name"}),Object(V.jsx)(o.o,{id:"sjphName",placeholder:"SJPH Tahun 2022",value:r,onChange:function(e){return c(e.target.value)},invalid:Y.sjphName&&!0})]}),Object(V.jsxs)(o.h,{xs:12,className:"text-center mt-2 pt-50",children:[Object(V.jsx)(o.b,{onClick:$,className:"me-1",color:"primary",children:"Submit"}),Object(V.jsx)(o.b,{type:"reset",color:"secondary",outline:!0,onClick:function(){return Q(!1)},children:"Discard"})]})]})]})]}),Object(V.jsxs)(o.c,{children:[Object(V.jsxs)(o.e,{children:[Object(V.jsx)(o.g,{children:" SJPH-Ku "}),Object(V.jsxs)("div",{className:"d-flex mt-md-0 mt-1",children:[Object(V.jsxs)(o.C,{children:[Object(V.jsxs)(o.l,{color:"secondary",caret:!0,outline:!0,children:[Object(V.jsx)(S,{size:15}),Object(V.jsx)("span",{className:"align-middle ms-50",children:"Export"})]}),Object(V.jsxs)(o.k,{children:[Object(V.jsxs)(o.j,{className:"w-100",children:[Object(V.jsx)(_,{size:15}),Object(V.jsx)("span",{className:"align-middle ms-50",children:"Print"})]}),Object(V.jsxs)(o.j,{className:"w-100",onClick:function(e){return e.preventDefault()},children:[Object(V.jsx)(B,{size:15}),Object(V.jsx)("span",{className:"align-middle ms-50",children:"PDF"})]})]})]}),Object(V.jsxs)(o.b,{className:"ms-2",color:"primary",onClick:function(){return Q(!0)},children:[Object(V.jsx)(I,{size:15}),Object(V.jsx)("span",{className:"align-middle ms-50",children:"Add Record"})]})]})]}),Object(V.jsxs)(o.d,{children:[Object(V.jsxs)("div",{className:"content-header",children:[Object(V.jsx)("h3",{className:"mb-0",children:"Daftar SJPH"}),Object(V.jsx)("small",{className:"text-muted",children:"Berikut adalah tabel daftar SJPH yang dibuat oleh kamu"})]}),Object(V.jsx)(o.A,{className:"justify-content-end mx-0",children:Object(V.jsxs)(o.h,{className:"d-flex align-items-center justify-content-end mt-1",md:"6",sm:"12",children:[Object(V.jsx)(o.r,{className:"me-1",for:"search-input",children:"Search"}),Object(V.jsx)(o.o,{className:"dataTable-filter mb-50",type:"text",bsSize:"sm",id:"search-input",value:w,onChange:function(e){var t=e.target.value,r=[];k(t);t.length&&(r=H.filter((function(e){var r=e.nama_sjph.toLowerCase().startsWith(t.toLowerCase())||e.created_at.toLowerCase().startsWith(t.toLowerCase())||e.modified_at.toLowerCase().startsWith(t.toLowerCase()),n=e.nama_sjph.toLowerCase().startsWith(t.toLowerCase())||e.created_at.toLowerCase().startsWith(t.toLowerCase())||e.modified_at.toLowerCase().startsWith(t.toLowerCase());return r||(!r&&n?n:null)})),E(r),k(t))}})]})}),Object(V.jsx)("div",{className:"react-dataTable",children:Object(V.jsx)(F.a,{noHeader:!0,pagination:!0,selectableRows:!0,columns:ne,paginationPerPage:7,className:"react-dataTable",sortIcon:Object(V.jsx)(R.a,{size:10}),paginationDefaultPage:j+1,paginationComponent:function(){return Object(V.jsx)(U.a,{previousLabel:"",nextLabel:"",forcePage:j,onPageChange:function(e){return function(e){m(e.selected)}(e)},pageCount:w.length?Math.ceil(P.length/7):Math.ceil(H.length/7)||1,breakLabel:"...",pageRangeDisplayed:2,marginPagesDisplayed:2,activeClassName:"active",pageClassName:"page-item",breakClassName:"page-item",nextLinkClassName:"page-link",pageLinkClassName:"page-link",breakLinkClassName:"page-link",previousLinkClassName:"page-link",nextClassName:"page-item next-item",previousClassName:"page-item prev-item",containerClassName:"pagination react-paginate separated-pagination pagination-sm justify-content-end pe-1 mt-1"})},data:w.length?P:H,selectableRowsComponent:re})}),"\xa0",Object(V.jsx)(o.h,{sm:"12",children:Object(V.jsx)("div",{className:"d-flex justify-content-end",children:Object(V.jsx)(o.b,{className:"me-1",color:"primary",onClick:function(){return Q(!0)},children:"Tambah"})})})]})]})]})};t.default=function(){return Object(V.jsx)("div",{children:Object(V.jsx)(q,{})})}},485:function(e,t,r){}}]);
//# sourceMappingURL=20.418579c1.chunk.js.map