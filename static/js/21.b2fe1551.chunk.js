(this["webpackJsonppasporumkm-frontend"]=this["webpackJsonppasporumkm-frontend"]||[]).push([[21],{1477:function(e,a,t){"use strict";t.r(a);var n=t(12),r=t(935),s=t(494),c=t(1),i=t(81),l=t(45),o=t.n(l),u=t(82),j=(t(457),t(483),t(451)),d=t.n(j),m=t(5),b=(t(471),t(460),t(470),t(6)),p=t(118),h=t(450),O=t(449),f=t(455),x=Object(h.a)((function e(){Object(O.a)(this,e),this.getKajiUlangManajemenByID=function(){var e=Object(i.a)(o.a.mark((function e(a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.set("/sjph/audit_kaji_ulang_manajemen/kaji_ulang_manajemen/get/".concat(a),"GET");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),this.createKajiUlangManajemen=function(){var e=Object(i.a)(o.a.mark((function e(a,t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.set("/sjph/audit_kaji_ulang_manajemen/kaji_ulang_manajemen/create/".concat(a),"POST",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),this.editKajiUlangManajemen=function(){var e=Object(i.a)(o.a.mark((function e(a,t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.set("/sjph/audit_kaji_ulang_manajemen/kaji_ulang_manajemen/edit/".concat(a),"PUT",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}()})),g=(t(481),t(2)),_=t.n(g),k=t(461),v=t.n(k),N=function(){var e=Object(c.useState)(""),a=Object(n.a)(e,2),t=a[0],r=a[1],s=Object(c.useState)(""),l=Object(n.a)(s,2),j=l[0],p=l[1],h=Object(c.useState)(""),O=Object(n.a)(h,2),f=O[0],g=O[1],k=Object(c.useState)(""),N=Object(n.a)(k,2),y=N[0],P=N[1],S=Object(c.useState)(""),w=Object(n.a)(S,2),E=w[0],M=w[1],C=Object(c.useState)(""),T=Object(n.a)(C,2),H=T[0],K=T[1],D=Object(c.useState)(""),I=Object(n.a)(D,2),A=I[0],F=I[1],R=Object(c.useState)(!1),J=Object(n.a)(R,2),U=J[0],z=J[1],B=Object(c.useState)([]),V=Object(n.a)(B,2),W=V[0],L=V[1],G=new x,X=Object(m.f)(),Y=Object(c.useState)(!1),q=Object(n.a)(Y,2),Q=(q[0],q[1],function(){var e=Object(i.a)(o.a.mark((function e(a){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,sessionStorage.kaji_ulang_manajemen_id&&"null"!==sessionStorage.kaji_ulang_manajemen_id){e.next=6;break}z(!0),console.log("ALERT",U),e.next=11;break;case 6:return e.next=8,G.getKajiUlangManajemenByID(a);case 8:t=e.sent,L(t),console.log(W);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(a){return e.apply(this,arguments)}}()),Z=function(){var e=Object(i.a)(o.a.mark((function e(){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={komitmen_dan_manajemen:t,bahan:j,proses_produk_halal:f,produk:E,pemantauan_dan_evaluasi:y,tempat_persetujuan:A,tanggal_persetujuan:H},e.prev=1,e.next=4,G.createKajiUlangManajemen(sessionStorage.sjph_id,a);case 4:if(!(n=e.sent).kaji_ulang_manajemen_id&&!n.success){e.next=11;break}return sessionStorage.kaji_ulang_manajemen_id=n.kaji_ulang_manajemen_id,e.next=9,d.a.fire("","Data berhasil di simpan","success").then((function(){Q(sessionStorage.kaji_ulang_manajemen_id)}));case 9:e.next=13;break;case 11:return e.next=13,d.a.fire("","Data gagal disimpan","error");case 13:e.next=20;break;case 15:return e.prev=15,e.t0=e.catch(1),console.error(e.t0),e.next=20,d.a.fire("Error",e.t0.error_message?e.t0.error_message:"Terjadi Error! Mohon kontak admin.");case 20:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){Q(sessionStorage.kaji_ulang_manajemen_id)}),[]),Object(b.jsxs)(c.Fragment,{children:[Object(b.jsxs)("div",{className:"content-header",children:[Object(b.jsx)("h3",{className:"mb-0",children:"Wisata 1"}),Object(b.jsx)("small",{className:"text-muted",children:"Risalah Kaji Ulang Manajemen"})]}),Object(b.jsx)(u.q,{children:Object(b.jsxs)(u.F,{children:[Object(b.jsxs)(u.l,{md:"6",sm:"12",className:"mb-1",children:[Object(b.jsx)("h5",{children:"Materi:"}),Object(b.jsx)(u.v,{className:"form-label",for:"EmailMulti",children:"Komitmen dan Manajemen"}),Object(b.jsx)("h5",{children:"Hasil Pembahasan:"}),Object(b.jsx)(u.s,{name:"komitmenManajemen",type:"textarea",id:"komitmenManajemen",placeholder:"Komitmen dan Manajemen",style:{minHeight:"100px"},onChange:function(e){return r(e.target.value)},defaultValue:W.id&&W.komitmen_dan_manajemen,className:_()({"text-danger":t.length>120})}),Object(b.jsx)("span",{className:_()("textarea-counter-value float-end",{"bg-danger":t.length>120}),children:"".concat(t.length,"/120")})]}),Object(b.jsxs)(u.l,{md:"6",sm:"12",className:"mb-1",children:[Object(b.jsx)("h5",{children:"Materi:"}),Object(b.jsx)(u.v,{className:"form-label",for:"EmailMulti",children:"Bahan"}),Object(b.jsx)("h5",{children:"Hasil Pembahasan:"}),Object(b.jsx)(u.s,{name:"bahan",type:"textarea",id:"bahan",placeholder:"Bahan",style:{minHeight:"100px"},onChange:function(e){return p(e.target.value)},defaultValue:W.id&&W.bahan,className:_()({"text-danger":j.length>120})}),Object(b.jsx)("span",{className:_()("textarea-counter-value float-end",{"bg-danger":j.length>120}),children:"".concat(j.length,"/120")})]}),Object(b.jsxs)(u.l,{md:"6",sm:"12",className:"mb-1",children:[Object(b.jsx)("h5",{children:"Materi:"}),Object(b.jsx)(u.v,{className:"form-label",for:"EmailMulti",children:"Proses dan Produk Halal"}),Object(b.jsx)("h5",{children:"Hasil Pembahasan:"}),Object(b.jsx)(u.s,{name:"prosesProdukHalal",type:"textarea",id:"prosesProdukHalal",placeholder:"Proses dan Produk Halal",value:W.proses_produk_halal,style:{minHeight:"100px"},onChange:function(e){return g(e.target.value)},defaultValue:W.id&&W.proses_produk_halal,className:_()({"text-danger":f.length>120})}),Object(b.jsx)("span",{className:_()("textarea-counter-value float-end",{"bg-danger":f.length>120}),children:"".concat(f.length,"/120")})]}),Object(b.jsxs)(u.l,{md:"6",sm:"12",className:"mb-1",children:[Object(b.jsx)("h5",{children:"Materi:"}),Object(b.jsx)(u.v,{className:"form-label",for:"EmailMulti",children:"Produk"}),Object(b.jsx)("h5",{children:"Hasil Pembahasan:"}),Object(b.jsx)(u.s,{name:"produk",type:"textarea",id:"produk",placeholder:"Produk",style:{minHeight:"100px"},onChange:function(e){return M(e.target.value)},defaultValue:W.id&&W.produk,className:_()({"text-danger":E.length>120})}),Object(b.jsx)("span",{className:_()("textarea-counter-value float-end",{"bg-danger":E.length>120}),children:"".concat(E.length,"/120")})]}),Object(b.jsxs)(u.l,{md:"6",sm:"12",className:"mb-1",children:[Object(b.jsx)("h5",{children:"Materi:"}),Object(b.jsx)(u.v,{className:"form-label",for:"EmailMulti",children:"Pemantauan dan Evaluasi"}),Object(b.jsx)("h5",{children:"Hasil Pembahasan:"}),Object(b.jsx)(u.s,{name:"pemantauanEvaluasi",type:"textarea",id:"pemantauanEvaluasi",placeholder:"Pemantauan dan Evaluasi ",style:{minHeight:"100px"},onChange:function(e){return P(e.target.value)},defaultValue:W.id&&W.pemantauan_dan_evaluasi,className:_()({"text-danger":y.length>120})}),Object(b.jsx)("span",{className:_()("textarea-counter-value float-end",{"bg-danger":y.length>120}),children:"".concat(y.length,"/120")})]}),Object(b.jsxs)(u.l,{md:3,xs:6,className:"align-items-end",children:[Object(b.jsx)(u.v,{className:"form-label",for:"tanggal",children:"Tanggal Persetujuan"}),Object(b.jsx)(v.a,{value:W.id&&W.tanggal_persetujuan,defaultValue:W.id&&W.tanggal,id:"tanggal",className:"form-control align-bottom",style:{minHeight:"100px"},onChange:function(e){return K(e)},options:{altInput:!0,altFormat:"F j, Y",dateFormat:"Y-m-d"}})]}),Object(b.jsxs)(u.l,{md:"3",sm:"6",className:"mb-1",children:[Object(b.jsx)(u.v,{className:"form-label",for:"tempatPersetujuan",children:"Tempat Persetujuan"}),Object(b.jsx)(u.s,{type:"text",defaultValue:W.id&&W.tempat_persetujuan,name:"tempatPersetujuan",id:"tempatPersetujuan",onChange:function(e){F(e.target.value)},placeholder:"Contoh: Jakarta"})]}),Object(b.jsx)(u.l,{sm:"12",children:Object(b.jsxs)("div",{className:"d-flex justify-content-center",children:[Object(b.jsx)(u.e,{className:"me-1",color:"primary",onClick:function(){return X("/sjph/kepentingan_produksi_dan_distribusi_produk")},outline:!0,children:"Kembali"}),Object(b.jsx)(u.e,{className:"me-1",color:"success",onClick:Z,children:"Simpan"}),Object(b.jsx)(u.e,{className:"me-1",color:"primary",onClick:function(){return X("/coming_soon")},children:"Hasil Perjalanan"})]})})]})})]})};a.default=function(){var e=Object(c.useRef)(null),a=Object(c.useState)(null),t=Object(n.a)(a,2),i=t[0],l=t[1],o=Object(c.useState)(!1),j=Object(n.a)(o,2),d=j[0],m=j[1],h=[{id:"hal1",title:"Wisata 1",subtitle:"Kaji Ulang Manajemen",icon:Object(b.jsx)(r.a,{size:18}),content:Object(b.jsx)(N,{stepper:i,type:"wizard-modern"})}],O=Object(c.useState)(80),f=Object(n.a)(O,2),x=f[0],g=f[1];return Object(c.useEffect)((function(){var e=setInterval((function(){g((function(e){if(100===e)return m(!0),100;return Math.min(e+90,100)}))}),200);return function(){clearInterval(e)}}),[]),Object(b.jsxs)("div",{children:[Object(b.jsxs)(u.c,{listClassName:"breadcrumb-chevron",children:[Object(b.jsx)(u.d,{children:Object(b.jsx)(p.b,{to:"/sjph/sjph_ku",children:" SJPH-ku "})}),Object(b.jsx)(u.d,{children:Object(b.jsx)(p.b,{to:"/sjph/informasi_umum_perusahaan",children:" Informasi Perusahaan "})}),Object(b.jsx)(u.d,{children:Object(b.jsx)(p.b,{to:"/sjph/kriteria_sistem_jaminan_produk_halal",children:" Kriteria Sistem Jaminan Produk Halal "})}),Object(b.jsx)(u.d,{children:Object(b.jsx)(p.b,{to:"/sjph/kebijakan_dan_edukasi_halal",children:" Kebijakan dan Edukasi Halal "})}),Object(b.jsx)(u.d,{children:Object(b.jsx)(p.b,{to:"/sjph/bahan_untuk_kepentingan_halal",children:" Bahan untuk Kepentingan Halal "})}),Object(b.jsx)(u.d,{children:Object(b.jsx)(p.b,{to:"/sjph/kepentingan_produksi_dan_distribusi_produk",children:" Kepentingan Produksi dan Distribusi Produk "})}),Object(b.jsx)(u.d,{active:!0,children:Object(b.jsx)("span",{children:" Audit dan Kaji Ulang Manajemen "})})]}),d?Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(u.E,{className:"progress-bar-success",value:100,children:"Selesai"})}):Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(u.E,{animated:!0,striped:!0,value:x})}),Object(b.jsxs)(u.f,{children:[Object(b.jsx)(u.h,{children:Object(b.jsxs)(u.k,{children:[" Form SJPH: \xa0",Object(b.jsx)(u.b,{color:"success",pill:!0,children:sessionStorage.nama_sjph})," "]})}),Object(b.jsxs)(u.g,{children:[Object(b.jsxs)("h4",{children:["Destinasi Keenam: \xa0",Object(b.jsx)(u.b,{color:"primary",pill:!0,children:"Audit dan Kaji Ulang Manajemen"})]}),Object(b.jsx)(s.a,{type:"modern-horizontal",ref:e,steps:h,options:{linear:!1},instance:function(e){return l(e)}})]})]})]})}},455:function(e,a,t){"use strict";t.d(a,"a",(function(){return u}));var n=t(81),r=t(450),s=t(449),c=t(45),i=t.n(c),l=t(463),o=t.n(l),u=Object(r.a)((function e(){Object(s.a)(this,e)}));u.set=function(){var e=Object(n.a)(i.a.mark((function e(a,t,n){var r,s,c,l,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=sessionStorage.token||localStorage.token,console.log("BODY",JSON.stringify(n)),c={method:t,headers:{"Content-Type":"application/json",Authorization:s?"bearer ".concat(s):null,Accept:"application/json"},body:JSON.stringify(n)},e.next=5,fetch(o.a.base_url+a,c);case 5:if(!(l=e.sent).ok){e.next=8;break}return e.abrupt("return",l.json());case 8:return e.next=10,l.json();case 10:if(u=e.sent,console.log(u),console.log(u.msg),"JWT_EXPIRED"!==u.code&&"NO_TOKEN_PROVIDED"!==u.code&&"INVALID_TOKEN"!==u.code&&"BAD_TOKEN_FORMAT"!==u.code&&"NO_SECRET_DEFINED"!==u.code&&"JWT_MALFORMED"!==u.error_message&&"JWT_MALFORMED"!==(null===(r=u.error_message)||void 0===r?void 0:r.msg)&&"JWT_EXPIRED"!==u.error_message&&"SUBSCRIPTION_EXPIRED"!==u.code){e.next=18;break}throw delete sessionStorage.token,delete localStorage.token,window.location.reload(),u;case 18:throw u;case 19:case"end":return e.stop()}}),e)})));return function(a,t,n){return e.apply(this,arguments)}}(),u.setMultipart=function(){var e=Object(n.a)(i.a.mark((function e(a,t,n){var r,s,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=sessionStorage.token||localStorage.token,e.next=3,fetch(o.a.base_url+a,{method:t,headers:{Authorization:r?"bearer ".concat(r):null,"Access-Control-Allow-Origin":"*"},body:n});case 3:if(!(s=e.sent).ok){e.next=9;break}return console.log(s),e.abrupt("return",s.json());case 9:return e.next=11,s.json();case 11:throw c=e.sent,console.log(c),c;case 14:case"end":return e.stop()}}),e)})));return function(a,t,n){return e.apply(this,arguments)}}()},457:function(e,a,t){},463:function(e,a){e.exports={base_url:"https://api.pasporumkm.com"}},481:function(e,a,t){},483:function(e,a,t){"use strict";t.d(a,"a",(function(){return o}));var n=t(81),r=t(450),s=t(449),c=t(45),i=t.n(c),l=t(455),o=Object(r.a)((function e(){Object(s.a)(this,e),this.getAll=Object(n.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.set("/sjph/company_profiles","GET");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),this.getById=function(){var e=Object(n.a)(i.a.mark((function e(a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.set("/sjph/company_profile/".concat(a),"GET");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),this.changePassword=function(){var e=Object(n.a)(i.a.mark((function e(a,t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.set("/sjph/company_profile/".concat(a),"POST",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),this.createCompanyProfile=function(){var e=Object(n.a)(i.a.mark((function e(a,t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.set("/sjph/company_profile/".concat(a),"POST",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),this.editCompanyProfile=function(){var e=Object(n.a)(i.a.mark((function e(a,t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.set("/sjph/company_profile/".concat(a,"/").concat(t),"PUT",n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(a,t,n){return e.apply(this,arguments)}}()}))},494:function(e,a,t){"use strict";var n=t(34),r=t(12),s=t(1),c=t(495),i=t.n(c),l=t(2),o=t.n(l),u=t(558),j=(t(496),t(497),t(6)),d=Object(s.forwardRef)((function(e,a){var t,c=e.type,l=e.steps,u=e.options,d=e.instance,m=e.separator,b=e.className,p=e.headerClassName,h=e.contentClassName,O=e.contentWrapperClassName,f=e.setCheckpoint,x=Object(s.useState)(0),g=Object(r.a)(x,2),_=g[0],k=g[1],v=null;Object(s.useEffect)((function(){v=new i.a(a.current,u),a.current.addEventListener("shown.bs-stepper",(function(e){k(e.detail.indexStep)})),d&&d(v)}),[]);return Object(j.jsxs)("div",{ref:a,className:o()("bs-stepper",(t={},Object(n.a)(t,b,b),Object(n.a)(t,"vertical","vertical"===c),Object(n.a)(t,"vertical wizard-modern","modern-vertical"===c),Object(n.a)(t,"wizard-modern","modern-horizontal"===c),t)),children:[Object(j.jsx)("div",{className:o()("bs-stepper-header",Object(n.a)({},p,p)),children:l.map((function(e,a){return Object(j.jsxs)(s.Fragment,{children:[0!==a&&a!==l.length?Object(j.jsx)("div",{className:"line",children:m}):null,Object(j.jsx)("div",{className:o()("step",{crossed:_>a,active:a===_}),"data-target":"#".concat(e.id),children:Object(j.jsxs)("button",{type:"button",className:"step-trigger",onClick:function(){f(_)},children:[Object(j.jsx)("span",{className:"bs-stepper-box",children:e.icon?e.icon:a+1}),Object(j.jsxs)("span",{className:"bs-stepper-label",children:[Object(j.jsx)("span",{className:"bs-stepper-title",children:e.title}),e.subtitle?Object(j.jsx)("span",{className:"bs-stepper-subtitle",children:e.subtitle}):null]})]})})]},e.id)}))}),Object(j.jsx)("div",{className:o()("bs-stepper-content",Object(n.a)({},O,O)),children:l.map((function(e,a){var t;return Object(j.jsx)("div",{className:o()("content",(t={},Object(n.a)(t,h,h),Object(n.a)(t,"active dstepper-block",_===a),t)),id:e.id,children:e.content},e.id)}))})]})}));a.a=d,d.defaultProps={options:{},type:"horizontal",separator:Object(j.jsx)(u.a,{size:17})}},497:function(e,a,t){}}]);
//# sourceMappingURL=21.b2fe1551.chunk.js.map