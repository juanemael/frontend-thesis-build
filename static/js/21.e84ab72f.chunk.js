(this["webpackJsonppasporumkm-frontend"]=this["webpackJsonppasporumkm-frontend"]||[]).push([[21],{1028:function(e,t,a){"use strict";a.r(t);var n=a(13),s=a(82),r=a(12),c=a(45),i=a.n(c),o=a(81),l=(a(452),a(1)),u=a(451),j=a(450),m=a(482),b=Object(u.a)((function e(){Object(j.a)(this,e),this.getAll=Object(s.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.set("/sjph","GET");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),this.getNamaPerusahaan=function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.set("/sjph/nama_perusahaan/".concat(t),"GET");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.createSJPH=function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.set("/sjph","POST",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.deleteSJPH=function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.set("/sjph/".concat(t),"DELETE");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),d=a(449),h=a.n(d),p=a(5),f=a(1005),x=a(1008),O=a(1007),g=a(1006),k=a(1014),v=a(1015),N=a(1016),w=a(1017),C=a(1018),y=a(454),S=a(759),P=a.n(S),_=a(763),L=a.n(_),D=(a(448),a(456),a(764),a(125)),T=a(6),J={firstName:"Bob",lastName:"Barton",username:"bob.dev"},H=function(){var e=Object(l.useState)(""),t=Object(r.a)(e,2),a=t[0],c=t[1],u=Object(l.useState)(0),j=Object(r.a)(u,2),m=j[0],d=j[1],S=Object(l.useState)(""),_=Object(r.a)(S,2),H=_[0],z=_[1],B=Object(l.useState)([]),E=Object(r.a)(B,2),A=E[0],W=E[1],R=Object(l.useState)([]),F=Object(r.a)(R,2),I=(F[0],F[1],Object(l.useState)([])),M=Object(r.a)(I,2),G=M[0],K=M[1],V=new b,q=(Object(p.f)(),Object(l.useState)(!1)),Q=Object(r.a)(q,2),U=Q[0],X=Q[1],Y=Object(y.e)({defaultValues:J}),Z=(Y.control,Y.setError,Y.handleSubmit,Y.formState.errors),$=function(){var e=Object(s.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,V.getAll();case 3:t=e.sent,K(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();Object(l.useEffect)((function(){$()}),[]);var ee=function(){var e=Object(s.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={nama_sjph:a},e.prev=1,e.next=4,V.createSJPH(t);case 4:if(!(n=e.sent).id&&!n.success){e.next=10;break}return e.next=8,h.a.fire("","Data berhasil di simpan","success").then((function(){$(),X(!1)}));case 8:e.next=12;break;case 10:return e.next=12,h.a.fire("","Data gagal disimpan","error");case 12:e.next=19;break;case 14:return e.prev=14,e.t0=e.catch(1),console.error(e.t0),e.next=19,h.a.fire("Error",e.t0.error_message?e.t0.error_message:"Terjadi Error! Mohon kontak admin.");case 19:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(){return e.apply(this,arguments)}}(),te=function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h.a.fire({title:"Peringatan!",text:"Apakah kamu yakin ingin menghapus data ini?",icon:"warning",showCancelButton:!0,confirmButton:"Iya, tentu saja",cancelButton:"Tidak",customClass:{confirmButton:"btn btn-primary",cancelButton:"btn btn-danger ms-1"},buttonsStyling:!1}).then(function(){var e=Object(s.a)(i.a.mark((function e(a){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.isConfirmed){e.next=19;break}return e.prev=1,e.next=4,V.deleteSJPH(t);case 4:if(!(n=e.sent).id&&!n.success){e.next=10;break}return e.next=8,h.a.fire({icon:"success",title:"Sukses menghapus!",text:"Data kamu telah dihapus.",customClass:{confirmButton:"btn btn-success"}}).then((function(){$()}));case 8:e.next=12;break;case 10:return e.next=12,h.a.fire({title:"Failed",text:"Failed to delete",icon:"error",customClass:{confirmButton:"btn btn-success"}});case 12:e.next=19;break;case 14:return e.prev=14,e.t0=e.catch(1),console.error(e.t0),e.next=19,h.a.fire("",e.t0.error_message?e.t0.error_message:"Something Wrong","error");case 19:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ae=function(){var e=Object(s.a)(i.a.mark((function e(t,a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{sessionStorage.sjph_id=t,D.b.success("Anda telah memilih SJPH ".concat(a))}catch(n){console.error(n)}case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ne=Object(l.forwardRef)((function(e,t){return Object(T.jsx)("div",{className:"form-check",children:Object(T.jsx)(o.o,Object(n.a)({type:"checkbox",ref:t},e))})})),se=[{name:"ID",selector:function(e){return e.sjph_id},sortable:function(e){return e.sjph_id}},{name:"Nama SJPH",sortable:!0,selector:function(e){return e.nama_sjph}},{name:"Dibuat pada",sortable:!0,selector:function(e){return e.created_at}},{name:"Diubah pada",sortable:!0,selector:function(e){return e.modified_at}},{name:"Pilihan",cell:function(e){return Object(T.jsx)(o.b,{className:"me-1",color:"primary",onClick:function(){ae(e.sjph_id,e.nama_sjph)},children:"Pilih"})}},{name:"Tindakan",allowOverflow:!1,cell:function(e){return Object(T.jsxs)("div",{className:"d-flex",children:[Object(T.jsxs)(o.D,{children:[Object(T.jsx)(o.l,{className:"pe-1",tag:"span",children:Object(T.jsx)(f.a,{size:15})}),Object(T.jsxs)(o.k,{end:!0,children:[Object(T.jsxs)(o.j,{tag:"a",href:"/",className:"w-100",onClick:function(e){return e.preventDefault()},children:[Object(T.jsx)(x.a,{size:15}),Object(T.jsx)("span",{className:"align-middle ms-50",children:"Details"})]}),Object(T.jsxs)(o.j,{className:"w-100",onClick:function(){te(e.sjph_id)},children:[Object(T.jsx)(O.a,{size:15}),Object(T.jsx)("span",{className:"align-middle ms-50",children:"Delete"})]})]})]}),Object(T.jsx)(g.a,{size:15})]})}}];return Object(T.jsxs)(l.Fragment,{children:[Object(T.jsxs)(o.u,{isOpen:U,toggle:function(){return X(!U)},className:"modal-dialog-centered modal-lg",children:[Object(T.jsx)(o.w,{className:"bg-transparent",toggle:function(){return X(!U)}}),Object(T.jsxs)(o.v,{className:"px-sm-5 mx-50 pb-5",children:[Object(T.jsxs)("div",{className:"text-center mb-2",children:[Object(T.jsx)("h1",{className:"mb-1",children:"Tambah Data Tabel"}),Object(T.jsx)("p",{children:"Tambah data tabelmu sekarang"})]}),Object(T.jsxs)(o.A,{tag:"form",className:"gy-1 pt-75",children:[Object(T.jsxs)(o.h,{xs:12,children:[Object(T.jsx)(o.r,{className:"form-label",for:"sjphName",children:"SJPH Name"}),Object(T.jsx)(o.o,{id:"sjphName",placeholder:"SJPH Tahun 2022",value:a,onChange:function(e){return c(e.target.value)},invalid:Z.sjphName&&!0})]}),Object(T.jsxs)(o.h,{xs:12,className:"text-center mt-2 pt-50",children:[Object(T.jsx)(o.b,{onClick:ee,className:"me-1",color:"primary",children:"Submit"}),Object(T.jsx)(o.b,{type:"reset",color:"secondary",outline:!0,onClick:function(){return X(!1)},children:"Discard"})]})]})]})]}),Object(T.jsxs)(o.c,{children:[Object(T.jsxs)(o.e,{children:[Object(T.jsx)(o.g,{children:" SJPH-Ku "}),Object(T.jsxs)("div",{className:"d-flex mt-md-0 mt-1",children:[Object(T.jsxs)(o.C,{children:[Object(T.jsxs)(o.l,{color:"secondary",caret:!0,outline:!0,children:[Object(T.jsx)(k.a,{size:15}),Object(T.jsx)("span",{className:"align-middle ms-50",children:"Export"})]}),Object(T.jsxs)(o.k,{children:[Object(T.jsxs)(o.j,{className:"w-100",children:[Object(T.jsx)(v.a,{size:15}),Object(T.jsx)("span",{className:"align-middle ms-50",children:"Print"})]}),Object(T.jsxs)(o.j,{className:"w-100",onClick:function(e){return e.preventDefault()},children:[Object(T.jsx)(N.a,{size:15}),Object(T.jsx)("span",{className:"align-middle ms-50",children:"PDF"})]})]})]}),Object(T.jsxs)(o.b,{className:"ms-2",color:"primary",onClick:function(){return X(!0)},children:[Object(T.jsx)(w.a,{size:15}),Object(T.jsx)("span",{className:"align-middle ms-50",children:"Add Record"})]})]})]}),Object(T.jsxs)(o.d,{children:[Object(T.jsxs)("div",{className:"content-header",children:[Object(T.jsx)("h3",{className:"mb-0",children:"Daftar SJPH"}),Object(T.jsx)("small",{className:"text-muted",children:"Berikut adalah tabel daftar SJPH yang dibuat oleh kamu"})]}),Object(T.jsx)(o.A,{className:"justify-content-end mx-0",children:Object(T.jsxs)(o.h,{className:"d-flex align-items-center justify-content-end mt-1",md:"6",sm:"12",children:[Object(T.jsx)(o.r,{className:"me-1",for:"search-input",children:"Search"}),Object(T.jsx)(o.o,{className:"dataTable-filter mb-50",type:"text",bsSize:"sm",id:"search-input",value:H,onChange:function(e){var t=e.target.value,a=[];z(t);t.length&&(a=G.filter((function(e){var a=e.nama_sjph.toLowerCase().startsWith(t.toLowerCase())||e.created_at.toLowerCase().startsWith(t.toLowerCase())||e.modified_at.toLowerCase().startsWith(t.toLowerCase()),n=e.nama_sjph.toLowerCase().startsWith(t.toLowerCase())||e.created_at.toLowerCase().startsWith(t.toLowerCase())||e.modified_at.toLowerCase().startsWith(t.toLowerCase());return a||(!a&&n?n:null)})),W(a),z(t))}})]})}),Object(T.jsx)("div",{className:"react-dataTable",children:Object(T.jsx)(P.a,{noHeader:!0,pagination:!0,selectableRows:!0,columns:se,paginationPerPage:7,className:"react-dataTable",sortIcon:Object(T.jsx)(C.a,{size:10}),paginationDefaultPage:m+1,paginationComponent:function(){return Object(T.jsx)(L.a,{previousLabel:"",nextLabel:"",forcePage:m,onPageChange:function(e){return function(e){d(e.selected)}(e)},pageCount:H.length?Math.ceil(A.length/7):Math.ceil(G.length/7)||1,breakLabel:"...",pageRangeDisplayed:2,marginPagesDisplayed:2,activeClassName:"active",pageClassName:"page-item",breakClassName:"page-item",nextLinkClassName:"page-link",pageLinkClassName:"page-link",breakLinkClassName:"page-link",previousLinkClassName:"page-link",nextClassName:"page-item next-item",previousClassName:"page-item prev-item",containerClassName:"pagination react-paginate separated-pagination pagination-sm justify-content-end pe-1 mt-1"})},data:H.length?A:G,selectableRowsComponent:ne})}),"\xa0",Object(T.jsx)(o.h,{sm:"12",children:Object(T.jsx)("div",{className:"d-flex justify-content-end",children:Object(T.jsx)(o.b,{className:"me-1",color:"primary",onClick:function(){return X(!0)},children:"Tambah"})})})]})]})]})};t.default=function(){return Object(T.jsx)("div",{children:Object(T.jsx)(H,{})})}},764:function(e,t,a){}}]);
//# sourceMappingURL=21.e84ab72f.chunk.js.map